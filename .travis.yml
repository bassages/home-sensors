language: java
jdk:
- openjdk10
script: "./gradlew clean build sonarqube"
addons:
  sonarcloud:
    organization: bassages-github
before_cache:
- rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
- rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
  directories:
  - "$HOME/.gradle/caches/"
  - "$HOME/.gradle/wrapper/"
deploy:
  provider: releases
  overwrite: true
  skip_cleanup: true
  file_glob: true
  api_key:
    secure: PoOhmld76Ch2EwBtjId0YlXBcWmsuct6tzni8PeDRdZVNVVHc9jqPXqFT3UEzHNiKaoW2FfjFcXEigv8uinQLlzYjGoS6vBO2jgiXzwkcVqTuD10AwXGXkSUDjHJhA91NJM3ge97Ke0rJhdAl7cBhzDLdr2Wk4CJPU0XO6GIcM+w1jyidUiyQUvwp+Bfvvd/UrXZXCozY7M92qeAWbKbVT2DollMIGnLs0/ha18UjzBUjI8eE+7kKQSe32iX1whHtzXjtptfUH+XJCtcMBvAntwU1snvfAPjdzGrL/GqvbC56tIfbJbxhR7a0yZxZWUtlpLpBeX1ttcelC+7e0HPMoKg4cD8hveaH7C6+c0iK+AjK3IP8N6if8HDM5zTOPtFJjDBjtnNlhISy+al74Gppu9Jiix8OVUAtVpPX2Fxfo0Prg/ysQtAJmj1l+jrPvXmPNyyHYvm79kfqgW72rzI17xJgENitP2HBx4ybGdCwB7DzddUCPVGopCwS/0nPxaaUl/SQkZYVOyMu+Azx+0bl3k2dXnO5zaYLyqEvm8HE2KdEv/AWpxCCzE9/aGkb/9q8YagTc0a0t9/qBXSfMVpiUw3Hhf5lQzWtQoi2Ntc29lSXep5Ic5JCYrwLyurw33Q2ObhGHm7lvXc/VTbvfXvRJCo01qwNpbs7MNThKXqaww=
  file: build/libs/*.jar
  on:
    repo: bassages/home-sensors
    tags: true
